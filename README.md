# CERTest

Welcome to the homepage of CERTest, the first effort leveraging the mutation configurations and the furthest-first based selection strategy to validate the error recovery support of compilers.

## Download
### 1. Install Git LFS
Since there are large files in the code, we recommend installing Git LFS to clone. You can choose the appropriate installation method according to different operating systems:
- **macOS**: use Homebrew：
  ```bash
  brew install git-lfs
  ```
- **Windows**: run the following command in Git Bash:
  ```bash
  git lfs install
  ```

- **Linux**: use a package manager, such as apt：
  ```bash
  sudo apt install git-lfs
  ```
After installing Git LFS, we also need to run the following command to initialize Git LFS:
```bash
git lfs install
```
### 2. Clone
Using the folloing command to clone the code:

```bash
git clone https://github.com/tangyixuan01/CERTest.git
```

## Requirments

* python 3
``` bash
pip install sklearn,pyclustering,libclang
```

* compiler 

``` bash
apt install clang-6 clang-9 clang-10
apt install gcc-5 gcc-6 gcc-7 gcc-11
```
* word2vec-google: save models in the ``model`` folder

[word2vec-google-news-300.model](https://huggingface.co/fse/word2vec-google-news-300/tree/main)

[word2vec-google-news-300.model.vectors.npy](https://huggingface.co/fse/word2vec-google-news-300/tree/main)

## Usage

Before running CERTest, we need to collect seed programs in the ``yarpgen-programs`` folder.

Building ``yarpgen`` is trivial. All you have to do is to use cmake:

```bash
mkdir build
cd build
cmake ..
make
```

Using the following command to conduct compiler testing:

```bash
python main.py
```

The test programs generated by CERTest are saved in the ``mutatefile`` folder, the detected compiler error recovery defects are saved in the file ``bug-diverse.txt``, and the statistical results are saved in the file ``statistic.txt``.
