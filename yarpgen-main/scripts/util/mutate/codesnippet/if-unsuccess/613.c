//d:int;a:int
if (p.f1 <= 0)
  if (a)
  d = 0;
